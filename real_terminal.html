<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ğŸ¥Š AI ë°°í‹€ - ì‹¤ì œ í„°ë¯¸ë„</title>
    <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
    <style>
        body {
            margin: 0;
            padding: 15px;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1e1e1e;
            color: #ffffff;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            text-align: center;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            padding: 12px;
            border-radius: 8px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 20px;
        }
        
        .header p {
            margin: 5px 0 0 0;
            font-size: 14px;
            opacity: 0.9;
        }
        
        .terminals {
            display: flex;
            flex: 1;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .terminal-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid;
        }
        
        .claude-container {
            border-color: #007ACC;
        }
        
        .gemini-container {
            border-color: #FF6B35;
        }
        
        .terminal-header {
            padding: 8px 12px;
            font-weight: bold;
            color: white;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .claude-header {
            background: #007ACC;
        }
        
        .gemini-header {
            background: #FF6B35;
        }
        
        .terminal {
            flex: 1;
            background: #1e1e1e;
        }
        
        .input-section {
            background: #252526;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #3e3e42;
        }
        
        .input-label {
            margin-bottom: 8px;
            font-weight: bold;
            color: #cccccc;
            font-size: 14px;
        }
        
        .input-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        input {
            flex: 1;
            padding: 8px 12px;
            font-size: 14px;
            background: #3c3c3c;
            color: white;
            border: 1px solid #5a5a5a;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        
        input:focus {
            outline: none;
            border-color: #007ACC;
        }
        
        button {
            padding: 8px 16px;
            background: #0e639c;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }
        
        button:hover {
            background: #1177bb;
        }
        
        button.secondary {
            background: #5a5a5a;
        }
        
        button.secondary:hover {
            background: #6a6a6a;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¥Š AI ë°°í‹€ - VS Code ìŠ¤íƒ€ì¼ í„°ë¯¸ë„</h1>
        <p>ì‹¤ì œ Claudeì™€ Gemini í„°ë¯¸ë„ì´ GUI ì•ˆì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤</p>
    </div>
    
    <div class="terminals">
        <div class="terminal-container claude-container">
            <div class="terminal-header claude-header">
                <span>ğŸ¤–</span>
                <span>Claude Code Terminal</span>
            </div>
            <div id="claude-terminal" class="terminal"></div>
        </div>
        
        <div class="terminal-container gemini-container">
            <div class="terminal-header gemini-header">
                <span>ğŸš€</span>
                <span>Gemini CLI Terminal</span>
            </div>
            <div id="gemini-terminal" class="terminal"></div>
        </div>
    </div>
    
    <div class="input-section">
        <div class="input-label">ğŸ’¬ ë‘ í„°ë¯¸ë„ì— ë™ì‹œ ëª…ë ¹ì–´ ì „ì†¡</div>
        <div class="input-row">
            <input type="text" id="commandInput" placeholder="ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  Enterë¥¼ ëˆ„ë¥´ì„¸ìš”..." />
            <button onclick="sendToBoth()">ì „ì†¡</button>
            <button class="secondary" onclick="clearBoth()">ì§€ìš°ê¸°</button>
        </div>
    </div>

    <script src="node_modules/xterm/lib/xterm.js"></script>
    <script src="node_modules/xterm-addon-fit/lib/xterm-addon-fit.js"></script>
    <script>
        const { ipcRenderer } = require('electron');
        
        // VS Codeì™€ ê°™ì€ í…Œë§ˆ
        const terminalTheme = {
            background: '#1e1e1e',
            foreground: '#cccccc',
            cursor: '#ffffff',
            selection: '#264f78',
            black: '#000000',
            brightBlack: '#666666',
            red: '#cd3131',
            brightRed: '#f14c4c',
            green: '#0dbc79',
            brightGreen: '#23d18b',
            yellow: '#e5e510',
            brightYellow: '#f5f543',
            blue: '#2472c8',
            brightBlue: '#3b8eea',
            magenta: '#bc3fbc',
            brightMagenta: '#d670d6',
            cyan: '#11a8cd',
            brightCyan: '#29b8db',
            white: '#e5e5e5',
            brightWhite: '#ffffff'
        };
        
        // í„°ë¯¸ë„ ìƒì„± (VS Code ìŠ¤íƒ€ì¼)
        const claudeTerminal = new Terminal({
            theme: terminalTheme,
            fontFamily: '"Monaco", "Menlo", "Ubuntu Mono", monospace',
            fontSize: 13,
            lineHeight: 1.2,
            cursorBlink: true,
            scrollback: 1000
        });
        
        const geminiTerminal = new Terminal({
            theme: terminalTheme,
            fontFamily: '"Monaco", "Menlo", "Ubuntu Mono", monospace',
            fontSize: 13,
            lineHeight: 1.2,
            cursorBlink: true,
            scrollback: 1000
        });
        
        // Fit addon ì¶”ê°€ (ì°½ í¬ê¸°ì— ë§ì¶¤)
        const claudeFitAddon = new FitAddon.FitAddon();
        const geminiFitAddon = new FitAddon.FitAddon();
        
        claudeTerminal.loadAddon(claudeFitAddon);
        geminiTerminal.loadAddon(geminiFitAddon);
        
        // í„°ë¯¸ë„ì„ DOMì— ì—°ê²°
        claudeTerminal.open(document.getElementById('claude-terminal'));
        geminiTerminal.open(document.getElementById('gemini-terminal'));
        
        // í¬ê¸° ë§ì¶”ê¸°
        setTimeout(() => {
            claudeFitAddon.fit();
            geminiFitAddon.fit();
        }, 100);
        
        // ë°±ì—”ë“œì—ì„œ í„°ë¯¸ë„ ì¶œë ¥ ë°›ê¸°
        ipcRenderer.on('claude-data', (event, data) => {
            claudeTerminal.write(data);
        });
        
        ipcRenderer.on('gemini-data', (event, data) => {
            geminiTerminal.write(data);
        });
        
        // í„°ë¯¸ë„ì—ì„œ í‚¤ë³´ë“œ ì…ë ¥ì„ ë°±ì—”ë“œë¡œ ì „ì†¡
        claudeTerminal.onData((data) => {
            ipcRenderer.send('claude-input', data);
        });
        
        geminiTerminal.onData((data) => {
            ipcRenderer.send('gemini-input', data);
        });
        
        // í„°ë¯¸ë„ í¬ê¸° ë³€ê²½ ì‹œ ë°±ì—”ë“œì— ì•Œë¦¼
        claudeTerminal.onResize((size) => {
            ipcRenderer.send('claude-resize', size);
        });
        
        geminiTerminal.onResize((size) => {
            ipcRenderer.send('gemini-resize', size);
        });
        
        // ë‘ í„°ë¯¸ë„ì— ë™ì‹œ ëª…ë ¹ì–´ ì „ì†¡
        function sendToBoth() {
            const command = document.getElementById('commandInput').value.trim();
            if (!command) return;
            
            ipcRenderer.send('send-to-both', command);
            document.getElementById('commandInput').value = '';
        }
        
        // ë‘ í„°ë¯¸ë„ ì§€ìš°ê¸°
        function clearBoth() {
            claudeTerminal.clear();
            geminiTerminal.clear();
        }
        
        // Enterí‚¤ë¡œ ì „ì†¡
        document.getElementById('commandInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendToBoth();
            }
        });
        
        // ì°½ í¬ê¸° ë³€ê²½ ì‹œ í„°ë¯¸ë„ í¬ê¸° ì¡°ì •
        window.addEventListener('resize', () => {
            setTimeout(() => {
                claudeFitAddon.fit();
                geminiFitAddon.fit();
            }, 100);
        });
    </script>
</body>
</html>